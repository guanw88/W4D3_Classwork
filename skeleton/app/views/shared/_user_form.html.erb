<% action_url = (action == :create_user ? users_url : session_url) %>
<% method = :post %>

<form action="<%= action_url %>" method="post">
  <input type="hidden" name="_method" value="<%= method %>">
  <input type="hidden" name="authenticity_token" value="<%= form_authenticity_token %>">
  <label for="user_name">User Name</label>
  <input
    type="text"
    name="user[user_name]"
    id="user_name"
    value="">

  <label for="password">Password</label>
  <input
    type="text"
    name="user[password]"
    id="password"
    value="">
  <br>

  <% submit_text = (action == :create_user ? 'Create User' : 'Login') %>
  <input type="submit" value="<%= submit_text %>">
</form>
